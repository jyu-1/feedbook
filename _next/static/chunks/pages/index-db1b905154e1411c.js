(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(9302)}])},9302:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return m}});var i=t(5893),s=t(9008),o=t.n(s),a=t(4782),l=t.n(a),r=t(8315),u=t.n(r);function c(){return(0,i.jsx)("footer",{className:u().footer,children:(0,i.jsx)("a",{href:"https://github.com/jyu-1/feedbook",title:"github link to this project",children:"Copyright \xa9 2023 Nateyu"})})}var d=t(7294),_=t(5669);function h(e){let{setSignUp:n}=e,{login:t,guestLogin:s,error:o,isLoading:a}=(0,_.f0)(),r=async e=>{e.preventDefault();let{email:n,password:i}=e.target;await t(n.value,i.value)},u=async()=>{await s()};return(0,i.jsxs)("div",{className:l().login_panel,children:[(0,i.jsxs)("form",{onSubmit:r,children:[(0,i.jsx)("input",{name:"email",type:"email",placeholder:"Email Address",minLength:2,required:!0}),(0,i.jsx)("input",{name:"password",type:"password",placeholder:"Password",minLength:6,required:!0}),o&&(0,i.jsx)("div",{children:o}),(0,i.jsx)("button",{type:"submit",className:l().login_button,disabled:a,children:"Login"})]}),(0,i.jsx)("hr",{}),(0,i.jsx)("button",{className:l().new_account_button,onClick:()=>n(!0),disabled:a,children:"Create new Account"}),(0,i.jsx)("button",{className:l().guest_button,disabled:a,onClick:u,children:"Sign in as Guest"})]})}function p(e){let{setSignUp:n}=e,{signup:t,error:s,isLoading:o}=(0,_.QS)(),a=async e=>{e.preventDefault();let{email:n,password:i,name:s}=e.target;await t(n.value,i.value,s.value)};return(0,i.jsxs)("div",{className:l().login_panel,children:[(0,i.jsx)("h2",{children:"Signup"}),(0,i.jsx)("p",{children:"It is fast and easy!"}),(0,i.jsxs)("form",{onSubmit:a,children:[(0,i.jsx)("input",{name:"name",type:"text",placeholder:"Full Name",minLength:1,required:!0}),(0,i.jsx)("input",{name:"email",type:"email",placeholder:"Email Address",minLength:2,required:!0}),(0,i.jsx)("input",{name:"password",type:"password",placeholder:"Password",minLength:6,required:!0}),s&&(0,i.jsx)("div",{children:s}),(0,i.jsx)("button",{type:"submit",className:l().new_account_button,disabled:o,children:"Sign Up"})]}),(0,i.jsx)("hr",{}),(0,i.jsx)("button",{className:l().guest_button,onClick:()=>n(!1),disabled:o,children:"Back to Login"})]})}var g=t(1163);function m(){let[e,n]=(0,d.useState)(!1),[t,s]=(0,d.useState)(!1),{user:a,loadPage:r}=(0,_.Eu)(),u=(0,g.useRouter)();return(0,d.useEffect)(()=>{r&&(a?u.push("/home"):s(!0))},[a,u,r]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o(),{children:(0,i.jsx)("title",{children:"Feedbook | Login or Signup"})}),t&&(0,i.jsxs)("div",{className:l().page_split,children:[(0,i.jsxs)("div",{className:l().main,children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{children:"feedbook"}),(0,i.jsx)("h3",{children:"Connect with friends and the world around you"})]}),e?(0,i.jsx)(p,{setSignUp:n}):(0,i.jsx)(h,{setSignUp:n})]}),(0,i.jsx)(c,{})]})]})}},8315:function(e){e.exports={footer:"footer_footer__CKQ67"}},4782:function(e){e.exports={page_split:"login_page_split__FWaVw",main:"login_main__VEw9_",login_panel:"login_login_panel__DznJ1",login_button:"login_login_button__U6wur",new_account_button:"login_new_account_button__P5cYh",guest_button:"login_guest_button__bUHiM"}},9008:function(e,n,t){e.exports=t(3121)},1163:function(e,n,t){e.exports=t(880)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);